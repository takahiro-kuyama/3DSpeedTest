<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
    <script src="./../js/aframe.min.js"></script>
</head>
<body>
    <a-scene stats>
        <a-sky color="blue"></a-sky>
        <a-camera user-height="0" near="0.005" wasd-controls-enabled="false"></a-camera>
        <a-entity id="cubeWrapper"></a-entity>
    </a-scene>

    <script type="text/javascript">
        window.onload = function () {
            document.querySelector('a-scene').addEventListener('renderstart', function () {
                var url = 'http://hogehogetest';
                var request = new XMLHttpRequest();
                request.open('GET', url);
                request.send(null);
            });

            var fragment = document.createDocumentFragment();
            var scene = document.querySelector('a-scene')
            var wrapper = document.querySelector('#cubeWrapper');
            for (var i = 0; i < 5000; i++) {
                var box = document.createElement("a-box");
                box.setAttribute('position', { x: Math.random() * 10 - 5, y: Math.random() * 10 - 5, z: Math.random() * 10 - 5 });
                box.setAttribute('scale', { x: 0.1, y: 0.1, z: 0.1 });
                fragment.appendChild(box);
            }
            wrapper.appendChild(fragment);
        }
    </script>
</body>
</html>
